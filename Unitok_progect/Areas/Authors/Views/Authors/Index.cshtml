@{
	ViewData["Title"] = "Authors";
	Layout = "~/Views/Shared/_Layout.cshtml";

	var atSign = "@";
}
@model Unitok_project.Areas.Authors.Models.AuthorsModel

<main class="main">
	<div class="container">
		<div class="row row--grid">
			<!-- breadcrumb -->
			<div class="col-12">
				<ul class="breadcrumb">
					<li class="breadcrumb__item"><a href="index.html">Home</a></li>
					<li class="breadcrumb__item breadcrumb__item--active">Authors</li>
				</ul>
			</div>
			<!-- end breadcrumb -->
			<!-- title -->
			<div class="col-12">
				<div class="main__title main__title--page">
					<h1>Authors</h1>
				</div>
			</div>
			<!-- end title -->
			<!-- filter -->
			<div class="col-12">
				<div class="main__filter">
					<form action="#" class="main__filter-search">
						<input type="text" placeholder="Search for a creator…">
						<button type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.71,20.29,18,16.61A9,9,0,1,0,16.61,18l3.68,3.68a1,1,0,0,0,1.42,0A1,1,0,0,0,21.71,20.29ZM11,18a7,7,0,1,1,7-7A7,7,0,0,1,11,18Z"></path></svg></button>
					</form>

					<div class="main__filter-wrap">
						<select class="main__select select2-hidden-accessible" name="status" data-select2-id="1" tabindex="-1" aria-hidden="true">
							<option value="rating" data-select2-id="3">By rating</option>
							<option value="views">By views</option>
							<option value="popularity">By popularity</option>
						</select><
						<select class="main__select select2-hidden-accessible" name="authors" data-select2-id="4" tabindex="-1" aria-hidden="true">
							<option value="0" data-select2-id="6">All Authors</option>
							<option value="1">Verified only</option>
						</select>
				</div>
			</div>
			<!-- end filter -->
		</div>

		<!-- authors -->
		<div class="row row--grid">


				@foreach (var author in Model.Authors)
				{

					var backgroundImage = author.BackgroundImageUrl != null ? author.BackgroundImageUrl : "/img/bg/bg-small.png";
					backgroundImage = author.BackgroundImageData?.Length > 0 ? "data:image/jpeg;base64," + @Convert.ToBase64String(author.BackgroundImageData) : backgroundImage;

					var avatarImage = author.AvatarImageUrl != null ? author.AvatarImageUrl : "/img/avatars/avatar.jpg";
					avatarImage = author.AvatarImageData?.Length > 0 ? "data:image/jpeg;base64," + @Convert.ToBase64String(author.AvatarImageData): avatarImage;

					var smallDescription = author.Description != null ? author.Description : "У этого автора нет описания профиля :(";

					<div class="col-12 col-sm-6 col-lg-4 col-xl-3" >

						<div class="author">
							<a  class="author__cover author__cover--bg" data-bg=@backgroundImage 
								style="background: url(@backgroundImage) center center / cover no-repeat;">
							</a>
							<div class="author__meta">
								<a href="/Authors/Author/@author.Id" class="author__avatar author__avatar--verified">
									<img style="width: 60px; height:60px" src=@avatarImage alt="avatar-image">
								</a>
								<h3 class="author__name">
									<a href="/Authors/Author/@author.Id">@author.FirstName @author.LastName</a>
								</h3>
								<h3 class="author__nickname">
									<a href="/Authors/Author/@author.Id">@atSign@author.NickName</a>
								</h3>
								<p class="author__text">"@smallDescription"</p>
								<div class="author__wrap">
									<div class="author__followers">
										<p>@author.FollowersNumber</p>
										<span>Followers</span>
									</div>
									<button class="author__follow" type="button">Follow</button>
								</div>
							</div>
						</div>
					</div>
				}


		</div>
		<!-- end authors -->
		<!-- paginator -->
@* 		<div class="row row--grid">
			<div class="col-12">
				<div class="paginator">
					<span class="paginator__pages">8 from @Model.Authors.Count</span>

					<ul class="paginator__list">
						<li>
							<a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17,11H9.41l3.3-3.29a1,1,0,1,0-1.42-1.42l-5,5a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l5,5a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L9.41,13H17a1,1,0,0,0,0-2Z"></path></svg></a>
						</li>
						<li class="active"><a href="#">1</a></li>
						<li><a href="#">2</a></li>
						<li><a href="#">3</a></li>
						<li><a href="#">4</a></li>
						<li>
							<a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.92,11.62a1,1,0,0,0-.21-.33l-5-5a1,1,0,0,0-1.42,1.42L14.59,11H7a1,1,0,0,0,0,2h7.59l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l5-5a1,1,0,0,0,.21-.33A1,1,0,0,0,17.92,11.62Z"></path></svg></a>
						</li>
					</ul>
				</div>
			</div>
		</div> *@
		<!-- end paginator -->
	</div>

	<script src="~/js/jquery-3.5.1.min.js"></script>
	<script src="~/js/bootstrap.bundle.min.js"></script>
	<script src="~/js/owl.carousel.min.js"></script>
	<script src="~/js/jquery.magnific-popup.min.js"></script>
	<script src="~/js/select2.min.js"></script>
	<script src="~/js/smooth-scrollbar.js"></script>
	<script src="~/js/jquery.countdown.min.js"></script>
	<script src="~/js/main.js"></script>
</main>